{ "issues": [ { "file": "packages/core/src/compiler/Domain.ts", "line": 369, "description": "subTypesOf: Possible infinite loop if there is a cycle in the type graph. While computeTypeGraph attempts to detect cycles before, future changes could introduce undetected cycles, causing this loop to run forever." }, { "file": "packages/core/src/compiler/Style.ts", "line": 668, "description": "substituteBform: When substituting a Style variable (StyVar) with a Substance variable, the function does not check if the substitution result is itself a valid identifier. Malformed substitutions could lead to unexpected behavior downstream." }, { "file": "packages/core/src/compiler/Style.ts", "line": 3947, "description": "processPassthrough: Uses shape.passthrough.set(propName, value.contents) but does not check if shape.passthrough exists or is properly initialized. If it's undefined, this will cause a runtime exception." }, { "file": "packages/core/src/engine/BBox.ts", "line": 293, "description": "bboxFromPath: Only supports a subset of SVG path commands. If unsupported commands (like H, V, or lowercase commands) appear, it throws an error and crashes. There is no graceful error handling or fallback." }, { "file": "packages/core/src/engine/BBox.ts", "line": 409, "description": "bboxFromLinelike: Assumes strokeWidth.contents is a number and can be divided. If strokeWidth is zero or not a number, this could result in NaN or runtime errors." }, { "file": "packages/core/src/renderer/Renderer.ts", "line": 120", "description": "toInteractiveSVG: Directly manipulates the DOM without checking for SVG namespace support or error handling. If document.createElementNS or setAttribute fails, this could result in a crash in non-browser environments." }, { "file": "packages/core/src/renderer/Renderer.ts", "line": 203, "description": "RenderGroup: If the clip shape is not found or fails to render, the code does not handle the error, potentially resulting in a partially constructed or broken SVG output." }, { "file": "packages/core/src/renderer/Renderer.ts", "line": 313, "description": "RenderShape: Uses event listeners for mouse events but does not properly clean up event listeners in all code paths, which can lead to memory leaks in long-running applications." } ] }