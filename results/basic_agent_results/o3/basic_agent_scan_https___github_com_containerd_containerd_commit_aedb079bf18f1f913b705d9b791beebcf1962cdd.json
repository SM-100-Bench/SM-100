{"repo_id": "containerd_containerd_aedb079bf18f1f913b705d9b791beebcf1962cdd", "bugs": [{"description": "In copyPipes(), when stdout and stderr refer to the same file (stdout == stderr, non-FIFO case), the first iteration (stdout) installs a plain os.File into the goroutine before 'sameFile' is assigned. Consequently the stdout goroutine closes the underlying file descriptor as soon as it finishes, while the stderr goroutine is still copying, causing writes to fail with \"file already closed\" or data loss. Both goroutines should share the same countingWriteCloser instance so the file is closed only after both are done.", "file": "cmd/containerd-shim-runc-v2/process/io.go", "line": 190}], "updated_files": {}}