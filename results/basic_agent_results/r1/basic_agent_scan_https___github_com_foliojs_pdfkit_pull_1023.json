{"repo_id": "foliojs_pdfkit_1023", "bugs": [{"description": "In Reference class constructor, generation number is not validated to be a non-negative integer. Negative generation numbers are invalid per PDF specification and could lead to malformed PDF files.", "file": "lib/reference.js", "line": 10}, {"description": "Document class does not initialize pages array in constructor. If addPage() is called before manual initialization, it will throw 'Cannot read property push of undefined'.", "file": "lib/document.js", "line": 5}, {"description": "VirtualFS readFile method lacks proper error handling for non-existent files. Unhandled promise rejection may crash process when accessing missing files.", "file": "lib/virtual-fs.js", "line": 32}, {"description": "In Reference class constructor, generation number is not validated to be a non-negative integer. Negative generation numbers are invalid per PDF specification and could lead to malformed PDF files.", "file": "lib/reference.js", "line": 10}, {"description": "Document class does not initialize pages array in constructor. If addPage() is called before manual initialization, it will throw 'Cannot read property push of undefined'.", "file": "lib/document.js", "line": 5}, {"description": "VirtualFS readFile method lacks proper error handling for non-existent files. Unhandled promise rejection may crash process when accessing missing files.", "file": "lib/virtual-fs.js", "line": 32}, {"description": "Incorrect assignment of wordSpacing as a boolean instead of a numerical value. The line 'this.wordSpacing = options.wordSpacing === 0;' sets it to true/false rather than using the option's value or defaulting to 0, leading to incorrect spacing calculations.", "file": "lib/line_wrapper.js", "line": 10}, {"description": "Potential null reference in nextSection method when 'options' is undefined. The call 'this.emit('sectionEnd', options, this);' at line 299 could pass undefined 'options' to event handlers, which may expect an object.", "file": "lib/line_wrapper.js", "line": 299}, {"description": "Missing default value for options.width leads to NaN in lineWidth calculation. When options.width is undefined, the calculation (options.width - columnGap) results in NaN, causing invalid layout measurements.", "file": "lib/line_wrapper.js", "line": 14}, {"description": "Constructor does not handle undefined 'options' parameter, leading to TypeError when accessing properties. Missing default value assignment for 'options' parameter in constructor.", "file": "lib/line_wrapper.js", "line": 5}, {"description": "Missing default parameter value for 'options' in wrap method. When called without options parameter, accessing properties like 'options.indent' will throw TypeError.", "file": "lib/line_wrapper.js", "line": 151}, {"description": "In Reference class constructor, generation number is not validated to be a non-negative integer. Negative generation numbers are invalid per PDF specification and could lead to malformed PDF files.", "file": "lib/reference.js", "line": 10}, {"description": "Document class does not initialize pages array in constructor. If addPage() is called before manual initialization, it will throw 'Cannot read property push of undefined'.", "file": "lib/document.js", "line": 5}, {"description": "VirtualFS readFile method lacks proper error handling for non-existent files. Unhandled promise rejection may crash process when accessing missing files.", "file": "lib/virtual-fs.js", "line": 32}, {"description": "Incorrect assignment of wordSpacing as a boolean instead of a numerical value. The line 'this.wordSpacing = options.wordSpacing === 0;' sets it to true/false rather than using the option's value or defaulting to 0, leading to incorrect spacing calculations.", "file": "lib/line_wrapper.js", "line": 10}, {"description": "Potential null reference in nextSection method when 'options' is undefined. The call 'this.emit('sectionEnd', options, this);' at line 299 could pass undefined 'options' to event handlers, which may expect an object.", "file": "lib/line_wrapper.js", "line": 299}, {"description": "Missing default value for options.width leads to NaN in lineWidth calculation. When options.width is undefined, the calculation (options.width - columnGap) results in NaN, causing invalid layout measurements.", "file": "lib/line_wrapper.js", "line": 14}, {"description": "Constructor does not handle undefined 'options' parameter, leading to TypeError when accessing properties. Missing default value assignment for 'options' parameter in constructor.", "file": "lib/line_wrapper.js", "line": 5}, {"description": "Missing default parameter value for 'options' in wrap method. When called without options parameter, accessing properties like 'options.indent' will throw TypeError.", "file": "lib/line_wrapper.js", "line": 151}], "updated_files": {}}