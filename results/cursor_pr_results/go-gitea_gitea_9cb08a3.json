{
  "url": "https://github.com/go-gitea/gitea/pull/4216",
  "identifier": "go-gitea_gitea_9cb08a3",
  "code_blocks": [
    "json\nApply\n[\n\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"models/repo.go\",\n\u00a0\u00a0\u00a0\u00a0\"line\":\u00a01529,\n\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Potential\u00a0race\u00a0condition\u00a0in\u00a0repository\u00a0deletion\u00a0-\u00a0checking\u00a0repository\u00a0existence\u00a0after\u00a0starting\u00a0transaction\u00a0could\u00a0lead\u00a0to\u00a0inconsistent\u00a0state\u00a0if\u00a0repository\u00a0is\u00a0deleted\u00a0concurrently\"\n\u00a0\u00a0},\n\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"models/repo.go\",\n\u00a0\u00a0\u00a0\u00a0\"line\":\u00a01580,\n\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"SQL\u00a0injection\u00a0vulnerability\u00a0in\u00a0attachment\u00a0query\u00a0-\u00a0using\u00a0string\u00a0concatenation\u00a0with\u00a0In()\u00a0clause\u00a0could\u00a0be\u00a0unsafe\u00a0if\u00a0issueIDs\u00a0contains\u00a0malicious\u00a0values\"\n\u00a0\u00a0},\n\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"models/repo.go\",\n\u00a0\u00a0\u00a0\u00a0\"line\":\u00a01588,\n\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Potential\u00a0memory\u00a0leak\u00a0-\u00a0attachmentPaths\u00a0slice\u00a0is\u00a0allocated\u00a0with\u00a0initial\u00a0capacity\u00a0but\u00a0never\u00a0freed\u00a0after\u00a0use\"\n\u00a0\u00a0},\n\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"models/repo.go\",\n\u00a0\u00a0\u00a0\u00a0\"line\":\u00a01590,\n\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Inconsistent\u00a0error\u00a0handling\u00a0-\u00a0Delete(&Issue{RepoID:\u00a0repoID})\u00a0is\u00a0called\u00a0inside\u00a0len(issueIDs)\u00a0>\u00a00\u00a0block\u00a0but\u00a0should\u00a0be\u00a0called\u00a0regardless\u00a0of\u00a0issue\u00a0count\"\n\u00a0\u00a0},\n\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"models/repo.go\",\n\u00a0\u00a0\u00a0\u00a0\"line\":\u00a01600,\n\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Potential\u00a0data\u00a0inconsistency\u00a0-\u00a0repository\u00a0deletion\u00a0is\u00a0not\u00a0atomic\u00a0with\u00a0file\u00a0system\u00a0operations,\u00a0could\u00a0leave\u00a0orphaned\u00a0files\u00a0if\u00a0transaction\u00a0fails\"\n\u00a0\u00a0},\n\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"models/repo.go\",\n\u00a0\u00a0\u00a0\u00a0\"line\":\u00a01620,\n\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Unhandled\u00a0error\u00a0in\u00a0LFS\u00a0object\u00a0cleanup\u00a0-\u00a0os.Remove()\u00a0error\u00a0is\u00a0returned\u00a0but\u00a0file\u00a0system\u00a0errors\u00a0could\u00a0leave\u00a0orphaned\u00a0LFS\u00a0objects\"\n\u00a0\u00a0},\n\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"models/repo.go\",\n\u00a0\u00a0\u00a0\u00a0\"line\":\u00a01630,\n\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Non-atomic\u00a0fork\u00a0count\u00a0update\u00a0-\u00a0updating\u00a0fork_id\u00a0and\u00a0is_fork\u00a0in\u00a0separate\u00a0query\u00a0could\u00a0lead\u00a0to\u00a0inconsistent\u00a0state\u00a0if\u00a0transaction\u00a0fails\"\n\u00a0\u00a0}\n]"
  ],
  "timestamp": "2025-05-26 18:18:57"
}