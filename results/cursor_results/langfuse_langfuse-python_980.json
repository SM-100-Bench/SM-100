{
  "url": "https://github.com/langfuse/langfuse-python/pull/980",
  "identifier": "langfuse_langfuse-python_980",
  "code_blocks": [
    "json\nApply\n[\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/Sampler.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a020,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Potential\u00a0race\u00a0condition\u00a0in\u00a0deterministic\u00a0sampling\u00a0-\u00a0the\u00a0sample_rate\u00a0parameter\u00a0is\u00a0not\u00a0thread-safe\u00a0and\u00a0could\u00a0be\u00a0modified\u00a0during\u00a0sampling\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/client.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a01354,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Memory\u00a0leak\u00a0risk\u00a0in\u00a0_log_memory_usage\u00a0method\u00a0-\u00a0no\u00a0cleanup\u00a0of\u00a0tracemalloc\u00a0snapshots\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/client.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a01914,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Potential\u00a0resource\u00a0leak\u00a0in\u00a0shutdown\u00a0method\u00a0-\u00a0httpx\u00a0client\u00a0session\u00a0is\u00a0not\u00a0properly\u00a0closed\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/prompt_cache.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a030,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Thread\u00a0safety\u00a0issue\u00a0in\u00a0PromptCacheItem\u00a0-\u00a0get_epoch_seconds\u00a0is\u00a0not\u00a0synchronized\u00a0across\u00a0threads\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/prompt_cache.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a0175,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Potential\u00a0memory\u00a0leak\u00a0in\u00a0PromptCache\u00a0-\u00a0no\u00a0cleanup\u00a0of\u00a0expired\u00a0cache\u00a0items\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/request.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a030,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Security\u00a0vulnerability\u00a0-\u00a0API\u00a0keys\u00a0are\u00a0logged\u00a0in\u00a0debug\u00a0mode\u00a0which\u00a0could\u00a0expose\u00a0sensitive\u00a0credentials\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/serializer.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a0120,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Potential\u00a0memory\u00a0leak\u00a0in\u00a0EventSerializer\u00a0-\u00a0seen\u00a0set\u00a0is\u00a0not\u00a0cleared\u00a0between\u00a0encode\u00a0calls\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/serializer.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a0150,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Security\u00a0vulnerability\u00a0-\u00a0sensitive\u00a0data\u00a0in\u00a0exceptions\u00a0could\u00a0be\u00a0exposed\u00a0in\u00a0serialization\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/task_manager.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a0267,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Resource\u00a0leak\u00a0risk\u00a0-\u00a0no\u00a0proper\u00a0cleanup\u00a0of\u00a0thread\u00a0resources\u00a0in\u00a0TaskManager\u00a0shutdown\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/task_manager.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a0343,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Potential\u00a0deadlock\u00a0in\u00a0_apply_mask_in_place\u00a0-\u00a0no\u00a0timeout\u00a0on\u00a0queue\u00a0operations\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/task_manager.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a0357,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Race\u00a0condition\u00a0in\u00a0flush\u00a0method\u00a0-\u00a0no\u00a0synchronization\u00a0between\u00a0consumer\u00a0threads\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/model.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a0120,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Potential\u00a0memory\u00a0leak\u00a0in\u00a0ChatPromptClient\u00a0-\u00a0no\u00a0cleanup\u00a0of\u00a0compiled\u00a0templates\"\n\u00a0\u00a0\u00a0\u00a0},\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"file\":\u00a0\"langfuse/extract_model.py\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"line\":\u00a030,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"description\":\u00a0\"Security\u00a0vulnerability\u00a0-\u00a0model\u00a0extraction\u00a0could\u00a0expose\u00a0sensitive\u00a0model\u00a0parameters\"\n\u00a0\u00a0\u00a0\u00a0}\n]"
  ],
  "timestamp": "2025-05-01 14:48:47"
}